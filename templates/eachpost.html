<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>

  <title>Document</title>
</head>

<body class="bg-slate-300">

  {% include "./components/navbar.html" %}
  {% include "./components/messages.html" %}
  <div class = "flex items-center">
  <div class = "flex-3">
    <br>
    <div class="flex flex-col justify-center items-center">
        <button class="bg-white rounded-full p-2 shadow-md hover:shadow-lg transition-shadow" >
          <svg class="w-6 h-6 fill-current text-gray-500 hover:text-gray-800 transition-colors">
            <path d="M12 2 L2 12 H6 V20 H18 V12 h4 L12 2 Z" />
          </svg>
        </button>
      <span class="text-gray-500 text-2xl font-bold my-4">{{ques.0.score}}</span>
      <button class="bg-white rounded-full p-2 shadow-md hover:shadow-lg transition-shadow">
        <svg class="w-6 h-6 fill-current text-gray-500 hover:text-gray-800 transition-colors">
          <path d="M12 22 L22 12 H18 V4 H6 V12 H2 L12 22 Z" />
        </svg>
      </button>
    </div>
    
    
     
  </div>
  <!--  -->
  <div class="flex-1">   <!-- text-4xl p-5 -->
    <div class =  "text-4xl p-5">
    {{ques.0.title}}
  </div>
  </div>
</div>
  <div class="p-5">
    {{ques.0.body|safe}}
  </div>
  <form action="/PostAnswer" method="POST">
    <input type="hidden" name="quesId" id="quesId" value={{ques.0.id}}>
    <input type='submit' class="hover:cursor-pointer p-1 bg-slate-400 rounded" value="Write Answer">
  </form>
  <div class="m-5 text-3xl">Comments</div>
  
{%for j in quesComments%}
<li class="m-3 text-base">
  {{j.text|safe}}
</li>
{%endfor%}

<button onclick="showCommentOption({{ques.0.id}})" class="hover:cursor-pointer p-1 bg-slate-400 rounded">Add comment</button>
  <div class="hidden" id={{ques.0.id}}>
    <form action="/CommentAdded" method="POST">
      <input type="hidden" name="PostId" id="PostId" value={{ ques.0.id}}>
    
      <input type='text' id='Bodytext' name='Bodytext' placeholder="write comment"></input>
      <input type='submit'></input>
    </form>
  </div>

  <div>
    <div class="text-center text-5xl my-5">ANSWERS</div>
    {%for i in answersList%}
    <div class="text-lg bg-slate-400 p-5 m-5 rounded-md">
      <!-- <div>
        {{i.owner_display_name}}
      </div> -->
      <div>
        {{i.body|safe}}
      </div>
      <div>
        <!-- {{i.}} -->
      </div>
      <div>
        <div class="m-5 text-3xl">Comments</div>
        {%for j in i.commentsList%}
        <li class="m-5 text-base">
          {{j.text|safe}}
        </li>
        {%endfor%}
        <button onclick="showCommentOption({{i.id}})" class="hover:cursor-pointer p-1 bg-slate-500 rounded">Add comment</button>

        <div class="hidden" id={{i.id}}>
          <form action="/CommentAdded" method="POST">
            <input type="hidden" name="PostId" id="PostId" value={{ i.id }}>

            <input type="hidden" name="user_id" id="user_id" value={{ i.owner_user_id }}>
            <input type="hidden" name="ThePostContent_license" id="ThePostContent_licenseer_id"
              value="{{i.content_license}}">
            <input type="hidden" name="ThePostcomment_count" id="ThePostcomment_count" value={{i.comment_count}}>

            <input type='text' id='Bodytext' name='Bodytext' placeholder="write comment"></input>
            <input type='submit'></input>
          </form>
        </div>
      </div>
    </div>
    {%endfor%}
  </div>

  


  <script>
    showCommentOption = (id) => {
      console.log(id)
      commentOption = document.getElementById(id)
      if (commentOption.classList.contains('hidden')) {
        commentOption.classList.add('block')
        commentOption.classList.remove('hidden')

      }
      else if (commentOption.classList.contains('block')) {
        commentOption.classList.remove('block')
        commentOption.classList.add('hidden')
      }
    }
  </script>

</body>

</html>